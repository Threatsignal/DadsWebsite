!function(){return function t(e,i,n){function o(r,a){if(!i[r]){if(!e[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(s)return s(r,!0);var h=new Error("Cannot find module '"+r+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[r]={exports:{}};e[r][0].call(c.exports,function(t){var i=e[r][1][t];return o(i||t)},c,c.exports,t,e,i,n)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}}()({1:[function(t,e,i){(function(i){"use strict";var n=t("path-to-regexp");e.exports=g,g.default=g,g.Context=b,g.Route=C,g.sameOrigin=P;var o,s,r,a="undefined"!=typeof document,l="undefined"!=typeof window,h="undefined"!=typeof history,c=void 0!==i,u=a&&document.ontouchstart?"touchstart":"click",d=l&&!(!window.history.location&&!window.location),p=!0,f=!0,m="",y=!1,v=!1;function g(t,e){if("function"==typeof t)return g("*",t);if("function"==typeof e)for(var i=new C(t),n=1;n<arguments.length;++n)g.callbacks.push(i.middleware(arguments[n]));else"string"==typeof t?g["string"==typeof e?"redirect":"show"](t,e):g.start(t)}function w(t){return"string"!=typeof t?t:f?decodeURIComponent(t.replace(/\+/g," ")):t}function b(t,e){var i=x();"/"===t[0]&&0!==t.indexOf(i)&&(t=i+(v?"#!":"")+t);var n=t.indexOf("?");if(this.canonicalPath=t,this.path=t.replace(i,"")||"/",v&&(this.path=this.path.replace("#!","")||"/"),this.title=a&&r.document.title,this.state=e||{},this.state.path=t,this.querystring=~n?w(t.slice(n+1)):"",this.pathname=w(~n?t.slice(0,n):t),this.params={},this.hash="",!v){if(!~this.path.indexOf("#"))return;var o=this.path.split("#");this.path=this.pathname=o[0],this.hash=w(o[1])||"",this.querystring=this.querystring.split("#")[0]}}function C(t,e){(e=e||{}).strict=e.strict||y,this.path="*"===t?"(.*)":t,this.method="GET",this.regexp=n(this.path,this.keys=[],e)}g.callbacks=[],g.exits=[],g.current="",g.len=0,g.base=function(t){if(0===arguments.length)return m;m=t},g.strict=function(t){if(0===arguments.length)return y;y=t},g.start=function(t){if(t=t||{},!o&&(o=!0,r=t.window||l&&window,!1===t.dispatch&&(p=!1),!1===t.decodeURLComponents&&(f=!1),!1!==t.popstate&&l&&r.addEventListener("popstate",S,!1),!1!==t.click&&a&&r.document.addEventListener(u,E,!1),(v=!!t.hashbang)&&l&&!h&&r.addEventListener("hashchange",S,!1),p)){var e;if(d){var i=r.location;e=v&&~i.hash.indexOf("#!")?i.hash.substr(2)+i.search:v?i.search+i.hash:i.pathname+i.search+i.hash}g.replace(e,null,!0,p)}},g.stop=function(){o&&(g.current="",g.len=0,o=!1,a&&r.document.removeEventListener(u,E,!1),l&&r.removeEventListener("popstate",S,!1),l&&r.removeEventListener("hashchange",S,!1))},g.show=function(t,e,i,n){var o=new b(t,e),r=s;return s=o,g.current=o.path,!1!==i&&g.dispatch(o,r),!1!==o.handled&&!1!==n&&o.pushState(),o},g.back=function(t,e){g.len>0?(h&&r.history.back(),g.len--):t?setTimeout(function(){g.show(t,e)}):setTimeout(function(){g.show(x(),e)})},g.redirect=function(t,e){"string"==typeof t&&"string"==typeof e&&g(t,function(t){setTimeout(function(){g.replace(e)},0)}),"string"==typeof t&&void 0===e&&setTimeout(function(){g.replace(t)},0)},g.replace=function(t,e,i,n){var o=new b(t,e),r=s;return s=o,g.current=o.path,o.init=i,o.save(),!1!==n&&g.dispatch(o,r),o},g.dispatch=function(t,e){var i=0,n=0;function o(){var e=g.callbacks[i++];if(t.path===g.current)return e?void e(t,o):function(t){if(t.handled)return;var e;e=v?d&&x()+r.location.hash.replace("#!",""):d&&r.location.pathname+r.location.search;if(e===t.canonicalPath)return;g.stop(),t.handled=!1,d&&(r.location.href=t.canonicalPath)}(t);t.handled=!1}e?function t(){var i=g.exits[n++];if(!i)return o();i(e,t)}():o()},g.exit=function(t,e){if("function"==typeof t)return g.exit("*",t);for(var i=new C(t),n=1;n<arguments.length;++n)g.exits.push(i.middleware(arguments[n]))},g.Context=b,b.prototype.pushState=function(){g.len++,h&&r.history.pushState(this.state,this.title,v&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},b.prototype.save=function(){h&&"file:"!==r.location.protocol&&r.history.replaceState(this.state,this.title,v&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},g.Route=C,C.prototype.middleware=function(t){var e=this;return function(i,n){if(e.match(i.path,i.params))return t(i,n);n()}},C.prototype.match=function(t,e){var i=this.keys,n=t.indexOf("?"),o=~n?t.slice(0,n):t,s=this.regexp.exec(decodeURIComponent(o));if(!s)return!1;for(var r=1,a=s.length;r<a;++r){var l=i[r-1],h=w(s[r]);void 0===h&&hasOwnProperty.call(e,l.name)||(e[l.name]=h)}return!0};var S=function(){var t=!1;if(l)return a&&"complete"===document.readyState?t=!0:window.addEventListener("load",function(){setTimeout(function(){t=!0},0)}),function(e){if(t)if(e.state){var i=e.state.path;g.replace(i,e.state)}else if(d){var n=r.location;g.show(n.pathname+n.hash,void 0,void 0,!1)}}}();function E(t){var e;if(1===(null==(e=(e=t)||l&&window.event).which?e.button:e.which)&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var i=t.path?t.path[0]:t.target;i&&"A"!==i.nodeName.toUpperCase();)i=i.parentNode;if(i&&"A"===i.nodeName.toUpperCase()){var n="object"==typeof i.href&&"SVGAnimatedString"===i.href.constructor.name;if(!i.hasAttribute("download")&&"external"!==i.getAttribute("rel")){var o=i.getAttribute("href");if((v||!function(t){if(!d)return!1;var e=r.location;return t.pathname===e.pathname&&t.search===e.search}(i)||!i.hash&&"#"!==o)&&!(o&&o.indexOf("mailto:")>-1)&&(n?!i.target.baseVal:!i.target)&&(n||P(i.href))){var s=n?i.href.baseVal:i.pathname+i.search+(i.hash||"");s="/"!==s[0]?"/"+s:s,c&&s.match(/^\/[a-zA-Z]:\//)&&(s=s.replace(/^\/[a-zA-Z]:\//,"/"));var a=s,h=x();0===s.indexOf(h)&&(s=s.substr(m.length)),v&&(s=s.replace("#!","")),h&&a===s||(t.preventDefault(),g.show(a))}}}}}function P(t){if(!t||!d)return!1;var e=function(t){if("function"==typeof URL&&d)return new URL(t,location.toString());if(a){var e=document.createElement("a");return e.href=t,e}}(t),i=r.location;return i.protocol===e.protocol&&i.hostname===e.hostname&&i.port===e.port}function x(){if(m)return m;var t=l&&r.location;return l&&v&&"file:"===t.protocol?t.pathname:m}g.sameOrigin=P}).call(this,t("_process"))},{_process:4,"path-to-regexp":2}],2:[function(t,e,i){var n=t("isarray");e.exports=u,e.exports.parse=s,e.exports.compile=function(t){return r(s(t))},e.exports.tokensToFunction=r,e.exports.tokensToRegExp=c;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function s(t){for(var e,i,n=[],s=0,r=0,a="";null!=(e=o.exec(t));){var l=e[0],h=e[1],c=e.index;if(a+=t.slice(r,c),r=c+l.length,h)a+=h[1];else{a&&(n.push(a),a="");var u=e[2],d=e[3],p=e[4],f=e[5],m=e[6],y=e[7],v="+"===m||"*"===m,g="?"===m||"*"===m,w=u||"/",b=p||f||(y?".*":"[^"+w+"]+?");n.push({name:d||s++,prefix:u||"",delimiter:w,optional:g,repeat:v,pattern:(i=b,i.replace(/([=!:$\/()])/g,"\\$1"))})}}return r<t.length&&(a+=t.substr(r)),a&&n.push(a),n}function r(t){for(var e=new Array(t.length),i=0;i<t.length;i++)"object"==typeof t[i]&&(e[i]=new RegExp("^"+t[i].pattern+"$"));return function(i){for(var o="",s=i||{},r=0;r<t.length;r++){var a=t[r];if("string"!=typeof a){var l,h=s[a.name];if(null==h){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to be defined')}if(n(h)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received "'+h+'"');if(0===h.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var c=0;c<h.length;c++){if(l=encodeURIComponent(h[c]),!e[r].test(l))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received "'+l+'"');o+=(0===c?a.prefix:a.delimiter)+l}}else{if(l=encodeURIComponent(h),!e[r].test(l))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+l+'"');o+=a.prefix+l}}else o+=a}return o}}function a(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function l(t,e){return t.keys=e,t}function h(t){return t.sensitive?"":"i"}function c(t,e){for(var i=(e=e||{}).strict,n=!1!==e.end,o="",s=t[t.length-1],r="string"==typeof s&&/\/$/.test(s),l=0;l<t.length;l++){var c=t[l];if("string"==typeof c)o+=a(c);else{var u=a(c.prefix),d=c.pattern;c.repeat&&(d+="(?:"+u+d+")*"),o+=d=c.optional?u?"(?:"+u+"("+d+"))?":"("+d+")?":u+"("+d+")"}}return i||(o=(r?o.slice(0,-2):o)+"(?:\\/(?=$))?"),o+=n?"$":i&&r?"":"(?=\\/|$)",new RegExp("^"+o,h(e))}function u(t,e,i){return n(e=e||[])?i||(i={}):(i=e,e=[]),t instanceof RegExp?function(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return l(t,e)}(t,e):n(t)?function(t,e,i){for(var n=[],o=0;o<t.length;o++)n.push(u(t[o],e,i).source);return l(new RegExp("(?:"+n.join("|")+")",h(i)),e)}(t,e,i):function(t,e,i){for(var n=s(t),o=c(n,i),r=0;r<n.length;r++)"string"!=typeof n[r]&&e.push(n[r]);return l(o,e)}(t,e,i)}},{isarray:3}],3:[function(t,e,i){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],4:[function(t,e,i){var n,o,s=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var h,c=[],u=!1,d=-1;function p(){u&&h&&(u=!1,h.length?c=h.concat(c):d=-1,c.length&&f())}function f(){if(!u){var t=l(p);u=!0;for(var e=c.length;e;){for(h=c,c=[];++d<e;)h&&h[d].run();d=-1,e=c.length}h=null,u=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function y(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];c.push(new m(t,e)),1!==c.length||u||l(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=y,s.addListener=y,s.once=y,s.off=y,s.removeListener=y,s.removeAllListeners=y,s.emit=y,s.prependListener=y,s.prependOnceListener=y,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],5:[function(t,e,i){"use strict";var n,o=t("./routes"),s=(n=o)&&n.__esModule?n:{default:n};new function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.router=new s.default}},{"./routes":12}],6:[function(t,e,i){"use strict";var n;n=function(t,e){t.extend(e.prototype.options,{fullScreen:!1});var i=e.prototype.initialize,n=e.prototype.close;return t.extend(e.prototype,{getFullScreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},requestFullScreen:function(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},initialize:function(){i.call(this),this.options.fullScreen&&!this.getFullScreenElement()&&this.requestFullScreen(this.container[0])},close:function(){this.getFullScreenElement()===this.container[0]&&this.exitFullScreen(),n.call(this)}}),e},"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],n):n(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)},{}],7:[function(t,e,i){"use strict";var n,o,s,r,a,l;!function(){function t(t,e){var i;for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function e(t){if(!this||this.find!==e.prototype.find)return new e(t);if(this.length=0,t)if("string"==typeof t&&(t=this.find(t)),t.nodeType||t===t.window)this.length=1,this[0]=t;else{var i=t.length;for(this.length=i;i;)this[i-=1]=t[i]}}e.extend=t,e.contains=function(t,e){do{if((e=e.parentNode)===t)return!0}while(e);return!1},e.parseJSON=function(t){return window.JSON&&JSON.parse(t)},t(e.prototype,{find:function(t){var i=this[0]||document;return"string"==typeof t&&(t=i.querySelectorAll?i.querySelectorAll(t):"#"===t.charAt(0)?i.getElementById(t.slice(1)):i.getElementsByTagName(t)),new e(t)},hasClass:function(t){return!!this[0]&&new RegExp("(^|\\s+)"+t+"(\\s+|$)").test(this[0].className)},addClass:function(t){for(var e,i=this.length;i;){if(!(e=this[i-=1]).className)return e.className=t,this;if(this.hasClass(t))return this;e.className+=" "+t}return this},removeClass:function(t){for(var e,i=new RegExp("(^|\\s+)"+t+"(\\s+|$)"),n=this.length;n;)(e=this[n-=1]).className=e.className.replace(i," ");return this},on:function(t,e){for(var i,n,o=t.split(/\s+/);o.length;)for(t=o.shift(),i=this.length;i;)(n=this[i-=1]).addEventListener?n.addEventListener(t,e,!1):n.attachEvent&&n.attachEvent("on"+t,e);return this},off:function(t,e){for(var i,n,o=t.split(/\s+/);o.length;)for(t=o.shift(),i=this.length;i;)(n=this[i-=1]).removeEventListener?n.removeEventListener(t,e,!1):n.detachEvent&&n.detachEvent("on"+t,e);return this},empty:function(){for(var t,e=this.length;e;)for(t=this[e-=1];t.hasChildNodes();)t.removeChild(t.lastChild);return this},first:function(){return new e(this[0])}}),"function"==typeof define&&define.amd?define(function(){return e}):(window.blueimp=window.blueimp||{},window.blueimp.helper=e)}(),l=function(t){function e(t,i){return void 0===document.body.style.maxHeight?null:this&&this.options===e.prototype.options?void(t&&t.length?(this.list=t,this.num=t.length,this.initOptions(i),this.initialize()):this.console.log("blueimp Gallery: No or empty list provided as first argument.",t)):new e(t,i)}return t.extend(e.prototype,{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",urlProperty:"href",srcsetProperty:"urlset",displayTransition:!0,clearSlides:!0,stretchImages:!1,toggleControlsOnReturn:!0,toggleControlsOnSlideClick:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,emulateTouchEvents:!0,stopTouchEventsPropagation:!1,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5e3,index:0,preloadRange:2,transitionSpeed:400,slideshowTransitionSpeed:void 0,event:void 0,onopen:void 0,onopened:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0,onclosed:void 0},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnReturn:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,disableScroll:!1,startSlideshow:!0},console:window.console&&"function"==typeof window.console.log?window.console:{log:function(){}},support:function(e){function i(){var t,i,n=o.transition;document.body.appendChild(e),n&&(t=n.name.slice(0,-9)+"ransform",void 0!==e.style[t]&&(e.style[t]="translateZ(0)",i=window.getComputedStyle(e).getPropertyValue(n.prefix+"transform"),o.transform={prefix:n.prefix,name:t,translate:!0,translateZ:!!i&&"none"!==i})),void 0!==e.style.backgroundSize&&(o.backgroundSize={},e.style.backgroundSize="contain",o.backgroundSize.contain="contain"===window.getComputedStyle(e).getPropertyValue("background-size"),e.style.backgroundSize="cover",o.backgroundSize.cover="cover"===window.getComputedStyle(e).getPropertyValue("background-size")),document.body.removeChild(e)}var n,o={touch:void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof DocumentTouch},s={webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",prefix:"-o-"},transition:{end:"transitionend",prefix:""}};for(n in s)if(s.hasOwnProperty(n)&&void 0!==e.style[n]){o.transition=s[n],o.transition.name=n;break}return document.body?i():t(document).on("DOMContentLoaded",i),o}(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,initialize:function(){if(this.initStartIndex(),!1===this.initWidget())return!1;this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),this.options.startSlideshow&&this.play()},slide:function(t,e){window.clearTimeout(this.timeout);var i,n,o,s=this.index;if(s!==t&&1!==this.num){if(e||(e=this.options.transitionSpeed),this.support.transform){for(this.options.continuous||(t=this.circle(t)),i=Math.abs(s-t)/(s-t),this.options.continuous&&(n=i,(i=-this.positions[this.circle(t)]/this.slideWidth)!==n&&(t=-i*this.num+t)),o=Math.abs(s-t)-1;o;)o-=1,this.move(this.circle((t>s?t:s)-o-1),this.slideWidth*i,0);t=this.circle(t),this.move(s,this.slideWidth*i,e),this.move(t,0,e),this.options.continuous&&this.move(this.circle(t-i),-this.slideWidth*i,0)}else t=this.circle(t),this.animate(s*-this.slideWidth,t*-this.slideWidth,e);this.onslide(t)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(t){var e=this;window.clearTimeout(this.timeout),this.interval=t||this.options.slideshowInterval,this.elements[this.index]>1&&(this.timeout=this.setTimeout(!this.requestAnimationFrame&&this.slide||function(t,i){e.animationFrameId=e.requestAnimationFrame.call(window,function(){e.slide(t,i)})},[this.index+1,this.options.slideshowTransitionSpeed],this.interval)),this.container.addClass(this.options.playingClass)},pause:function(){window.clearTimeout(this.timeout),this.interval=null,this.container.removeClass(this.options.playingClass)},add:function(t){var e;for(t.concat||(t=Array.prototype.slice.call(t)),this.list.concat||(this.list=Array.prototype.slice.call(this.list)),this.list=this.list.concat(t),this.num=this.list.length,this.num>2&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass)),this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass),e=this.num-t.length;e<this.num;e+=1)this.addSlide(e),this.positionSlide(e);this.positions.length=this.num,this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty(),this.unloadAllSlides(),this.slides=[]},handleClose:function(){var t=this.options;this.destroyEventListeners(),this.pause(),this.container[0].style.display="none",this.container.removeClass(t.displayClass).removeClass(t.singleClass).removeClass(t.leftEdgeClass).removeClass(t.rightEdgeClass),t.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle),this.options.clearSlides&&this.resetSlides(),this.options.onclosed&&this.options.onclosed.call(this)},close:function(){var t=this;this.options.onclose&&this.options.onclose.call(this),this.support.transition&&this.options.displayTransition?(this.container.on(this.support.transition.end,function e(i){i.target===t.container[0]&&(t.container.off(t.support.transition.end,e),t.handleClose())}),this.container.removeClass(this.options.displayClass)):this.handleClose()},circle:function(t){return(this.num+t%this.num)%this.num},move:function(t,e,i){this.translateX(t,e,i),this.positions[t]=e},translate:function(t,e,i,n){var o=this.slides[t].style,s=this.support.transition,r=this.support.transform;o[s.name+"Duration"]=n+"ms",o[r.name]="translate("+e+"px, "+i+"px)"+(r.translateZ?" translateZ(0)":"")},translateX:function(t,e,i){this.translate(t,e,0,i)},translateY:function(t,e,i){this.translate(t,0,e,i)},animate:function(t,e,i){if(i)var n=this,o=(new Date).getTime(),s=window.setInterval(function(){var r=(new Date).getTime()-o;if(r>i)return n.slidesContainer[0].style.left=e+"px",n.ontransitionend(),void window.clearInterval(s);n.slidesContainer[0].style.left=(e-t)*(Math.floor(r/i*100)/100)+t+"px"},4);else this.slidesContainer[0].style.left=e+"px"},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},stopPropagation:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},onresize:function(){this.initSlides(!0)},onmousedown:function(t){t.which&&1===t.which&&"VIDEO"!==t.target.nodeName&&(t.preventDefault(),(t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchstart(t))},onmousemove:function(t){this.touchStart&&((t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchmove(t))},onmouseup:function(t){this.touchStart&&(this.ontouchend(t),delete this.touchStart)},onmouseout:function(e){if(this.touchStart){var i=e.target,n=e.relatedTarget;n&&(n===i||t.contains(i,n))||this.onmouseup(e)}},ontouchstart:function(t){this.options.stopTouchEventsPropagation&&this.stopPropagation(t);var e=(t.originalEvent||t).touches[0];this.touchStart={x:e.pageX,y:e.pageY,time:Date.now()},this.isScrolling=void 0,this.touchDelta={}},ontouchmove:function(t){this.options.stopTouchEventsPropagation&&this.stopPropagation(t);var e,i,n=(t.originalEvent||t).touches[0],o=(t.originalEvent||t).scale,s=this.index;if(!(n.length>1||o&&1!==o))if(this.options.disableScroll&&t.preventDefault(),this.touchDelta={x:n.pageX-this.touchStart.x,y:n.pageY-this.touchStart.y},e=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(e)<Math.abs(this.touchDelta.y)),this.isScrolling)this.translateY(s,this.touchDelta.y+this.positions[s],0);else for(t.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?i=[this.circle(s+1),s,this.circle(s-1)]:(this.touchDelta.x=e/=!s&&e>0||s===this.num-1&&e<0?Math.abs(e)/this.slideWidth+1:1,i=[s],s&&i.push(s-1),s<this.num-1&&i.unshift(s+1));i.length;)s=i.pop(),this.translateX(s,e+this.positions[s],0)},ontouchend:function(t){this.options.stopTouchEventsPropagation&&this.stopPropagation(t);var e,i,n,o,s,r=this.index,a=this.options.transitionSpeed,l=this.slideWidth,h=Number(Date.now()-this.touchStart.time)<250,c=h&&Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.x)>l/2,u=!r&&this.touchDelta.x>0||r===this.num-1&&this.touchDelta.x<0,d=!c&&this.options.closeOnSwipeUpOrDown&&(h&&Math.abs(this.touchDelta.y)>20||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(u=!1),e=this.touchDelta.x<0?-1:1,this.isScrolling?d?this.close():this.translateY(r,0,a):c&&!u?(i=r+e,n=r-e,o=l*e,s=-l*e,this.options.continuous?(this.move(this.circle(i),o,0),this.move(this.circle(r-2*e),s,0)):i>=0&&i<this.num&&this.move(i,o,0),this.move(r,this.positions[r]+o,a),this.move(this.circle(n),this.positions[this.circle(n)]+o,a),r=this.circle(n),this.onslide(r)):this.options.continuous?(this.move(this.circle(r-1),-l,a),this.move(r,0,a),this.move(this.circle(r+1),l,a)):(r&&this.move(r-1,-l,a),this.move(r,0,a),r<this.num-1&&this.move(r+1,l,a))},ontouchcancel:function(t){this.touchStart&&(this.ontouchend(t),delete this.touchStart)},ontransitionend:function(t){var e=this.slides[this.index];t&&e!==t.target||(this.interval&&this.play(),this.setTimeout(this.options.onslideend,[this.index,e]))},oncomplete:function(e){var i,n=e.target||e.srcElement,o=n&&n.parentNode;n&&o&&(i=this.getNodeIndex(o),t(o).removeClass(this.options.slideLoadingClass),"error"===e.type?(t(o).addClass(this.options.slideErrorClass),this.elements[i]=3):this.elements[i]=2,n.clientHeight>this.container[0].clientHeight&&(n.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===o&&this.play(),this.setTimeout(this.options.onslidecomplete,[i,o]))},onload:function(t){this.oncomplete(t)},onerror:function(t){this.oncomplete(t)},onkeydown:function(t){switch(t.which||t.keyCode){case 13:this.options.toggleControlsOnReturn&&(this.preventDefault(t),this.toggleControls());break;case 27:this.options.closeOnEscape&&(this.close(),t.stopImmediatePropagation());break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(t),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(t),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(this.preventDefault(t),this.next())}},handleClick:function(e){function i(e){return t(o).hasClass(e)||t(s).hasClass(e)}var n=this.options,o=e.target||e.srcElement,s=o.parentNode;i(n.toggleClass)?(this.preventDefault(e),this.toggleControls()):i(n.prevClass)?(this.preventDefault(e),this.prev()):i(n.nextClass)?(this.preventDefault(e),this.next()):i(n.closeClass)?(this.preventDefault(e),this.close()):i(n.playPauseClass)?(this.preventDefault(e),this.toggleSlideshow()):s===this.slidesContainer[0]?n.closeOnSlideClick?(this.preventDefault(e),this.close()):n.toggleControlsOnSlideClick&&(this.preventDefault(e),this.toggleControls()):s.parentNode&&s.parentNode===this.slidesContainer[0]&&n.toggleControlsOnSlideClick&&(this.preventDefault(e),this.toggleControls())},onclick:function(t){if(!(this.options.emulateTouchEvents&&this.touchDelta&&(Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.y)>20)))return this.handleClick(t);delete this.touchDelta},updateEdgeClasses:function(t){t?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass),t===this.num-1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},handleSlide:function(t){this.options.continuous||this.updateEdgeClasses(t),this.loadElements(t),this.options.unloadElements&&this.unloadElements(t),this.setTitle(t)},onslide:function(t){this.index=t,this.handleSlide(t),this.setTimeout(this.options.onslide,[t,this.slides[t]])},setTitle:function(t){var e=this.slides[t].firstChild.title,i=this.titleElement;i.length&&(this.titleElement.empty(),e&&i[0].appendChild(document.createTextNode(e)))},setTimeout:function(t,e,i){var n=this;return t&&window.setTimeout(function(){t.apply(n,e||[])},i||0)},imageFactory:function(e,i){var n,o,s,r=this,a=this.imagePrototype.cloneNode(!1),l=e,h=this.options.stretchImages;return"string"!=typeof l&&(l=this.getItemProperty(e,this.options.urlProperty),s=this.getItemProperty(e,this.options.titleProperty)),!0===h&&(h="contain"),(h=this.support.backgroundSize&&this.support.backgroundSize[h]&&h)?o=this.elementPrototype.cloneNode(!1):(o=a,a.draggable=!1),s&&(o.title=s),t(a).on("load error",function e(s){if(!n){if(s={type:s.type,target:o},!o.parentNode)return r.setTimeout(e,[s]);n=!0,t(a).off("load error",e),h&&"load"===s.type&&(o.style.background='url("'+l+'") center no-repeat',o.style.backgroundSize=h),i(s)}}),a.src=l,o},createElement:function(e,i){var n=e&&this.getItemProperty(e,this.options.typeProperty),o=n&&this[n.split("/")[0]+"Factory"]||this.imageFactory,s=e&&o.call(this,e,i),r=this.getItemProperty(e,this.options.srcsetProperty);return s||(s=this.elementPrototype.cloneNode(!1),this.setTimeout(i,[{type:"error",target:s}])),r&&s.setAttribute("srcset",r),t(s).addClass(this.options.slideContentClass),s},loadElement:function(e){this.elements[e]||(this.slides[e].firstChild?this.elements[e]=t(this.slides[e]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[e]=1,t(this.slides[e]).addClass(this.options.slideLoadingClass),this.slides[e].appendChild(this.createElement(this.list[e],this.proxyListener))))},loadElements:function(t){var e,i=Math.min(this.num,2*this.options.preloadRange+1),n=t;for(e=0;e<i;e+=1)n+=e*(e%2==0?-1:1),n=this.circle(n),this.loadElement(n)},unloadElements:function(t){var e,i;for(e in this.elements)this.elements.hasOwnProperty(e)&&(i=Math.abs(t-e))>this.options.preloadRange&&i+this.options.preloadRange<this.num&&(this.unloadSlide(e),delete this.elements[e])},addSlide:function(t){var e=this.slidePrototype.cloneNode(!1);e.setAttribute("data-index",t),this.slidesContainer[0].appendChild(e),this.slides.push(e)},positionSlide:function(t){var e=this.slides[t];e.style.width=this.slideWidth+"px",this.support.transform&&(e.style.left=t*-this.slideWidth+"px",this.move(t,this.index>t?-this.slideWidth:this.index<t?this.slideWidth:0,0))},initSlides:function(e){var i,n;for(e||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),t(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,i=this.options.clearSlides||this.slides.length!==this.num),this.slideWidth=this.container[0].offsetWidth,this.slideHeight=this.container[0].offsetHeight,this.slidesContainer[0].style.width=this.num*this.slideWidth+"px",i&&this.resetSlides(),n=0;n<this.num;n+=1)i&&this.addSlide(n),this.positionSlide(n);this.options.continuous&&this.support.transform&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0)),this.support.transform||(this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px")},unloadSlide:function(t){var e,i;null!==(i=(e=this.slides[t]).firstChild)&&e.removeChild(i)},unloadAllSlides:function(){var t,e;for(t=0,e=this.slides.length;t<e;t++)this.unloadSlide(t)},toggleControls:function(){var t=this.options.controlsClass;this.container.hasClass(t)?this.container.removeClass(t):this.container.addClass(t)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(t){return parseInt(t.getAttribute("data-index"),10)},getNestedProperty:function(t,e){return e.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(e,i,n,o,s){var r=s||i||n||o&&parseInt(o,10);e&&t&&(t=t[r])}),t},getDataProperty:function(e,i){var n,o;if(e.dataset?(n=i.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()}),o=e.dataset[n]):e.getAttribute&&(o=e.getAttribute("data-"+i.replace(/([A-Z])/g,"-$1").toLowerCase())),"string"==typeof o){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(o))try{return t.parseJSON(o)}catch(t){}return o}},getItemProperty:function(t,e){var i=this.getDataProperty(t,e);return void 0===i&&(i=t[e]),void 0===i&&(i=this.getNestedProperty(t,e)),i},initStartIndex:function(){var t,e=this.options.index,i=this.options.urlProperty;if(e&&"number"!=typeof e)for(t=0;t<this.num;t+=1)if(this.list[t]===e||this.getItemProperty(this.list[t],i)===this.getItemProperty(e,i)){e=t;break}this.index=this.circle(parseInt(e,10)||0)},initEventListeners:function(){function e(t){var e=i.support.transition&&i.support.transition.end===t.type?"transitionend":t.type;i["on"+e](t)}var i=this,n=this.slidesContainer;t(window).on("resize",e),t(document.body).on("keydown",e),this.container.on("click",e),this.support.touch?n.on("touchstart touchmove touchend touchcancel",e):this.options.emulateTouchEvents&&this.support.transition&&n.on("mousedown mousemove mouseup mouseout",e),this.support.transition&&n.on(this.support.transition.end,e),this.proxyListener=e},destroyEventListeners:function(){var e=this.slidesContainer,i=this.proxyListener;t(window).off("resize",i),t(document.body).off("keydown",i),this.container.off("click",i),this.support.touch?e.off("touchstart touchmove touchend touchcancel",i):this.options.emulateTouchEvents&&this.support.transition&&e.off("mousedown mousemove mouseup mouseout",i),this.support.transition&&e.off(this.support.transition.end,i)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){var e=this;return this.container=t(this.options.container),this.container.length?(this.slidesContainer=this.container.find(this.options.slidesContainer).first(),this.slidesContainer.length?(this.titleElement=this.container.find(this.options.titleElement).first(),1===this.num&&this.container.addClass(this.options.singleClass),this.options.onopen&&this.options.onopen.call(this),this.support.transition&&this.options.displayTransition?this.container.on(this.support.transition.end,function t(i){i.target===e.container[0]&&(e.container.off(e.support.transition.end,t),e.handleOpen())}):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),this.container[0].style.display="block",this.initSlides(),void this.container.addClass(this.options.displayClass)):(this.console.log("blueimp Gallery: Slides container not found.",this.options.slidesContainer),!1)):(this.console.log("blueimp Gallery: Widget container not found.",this.options.container),!1)},initOptions:function(e){this.options=t.extend({},this.options),(e&&e.carousel||this.options.carousel&&(!e||!1!==e.carousel))&&t.extend(this.options,this.carouselOptions),t.extend(this.options,e),this.num<3&&(this.options.continuous=!!this.options.continuous&&null),this.support.transition||(this.options.emulateTouchEvents=!1),this.options.event&&this.preventDefault(this.options.event)}}),e},"function"==typeof define&&define.amd?define(["./blueimp-helper"],l):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=l(window.blueimp.helper||window.jQuery)),a=function(t,e){t.extend(e.prototype.options,{fullScreen:!1});var i=e.prototype.initialize,n=e.prototype.close;return t.extend(e.prototype,{getFullScreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},requestFullScreen:function(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},initialize:function(){i.call(this),this.options.fullScreen&&!this.getFullScreenElement()&&this.requestFullScreen(this.container[0])},close:function(){this.getFullScreenElement()===this.container[0]&&this.exitFullScreen(),n.call(this)}}),e},"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery),r=function(t,e){t.extend(e.prototype.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:!0});var i=e.prototype.initSlides,n=e.prototype.addSlide,o=e.prototype.resetSlides,s=e.prototype.handleClick,r=e.prototype.handleSlide,a=e.prototype.handleClose;return t.extend(e.prototype,{createIndicator:function(e){var i,n,o=this.indicatorPrototype.cloneNode(!1),s=this.getItemProperty(e,this.options.titleProperty),r=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(r&&(i=this.getItemProperty(e,r)),void 0===i&&(n=e.getElementsByTagName&&t(e).find("img")[0])&&(i=n.src),i&&(o.style.backgroundImage='url("'+i+'")')),s&&(o.title=s),o},addIndicator:function(t){if(this.indicatorContainer.length){var e=this.createIndicator(this.list[t]);e.setAttribute("data-index",t),this.indicatorContainer[0].appendChild(e),this.indicators.push(e)}},setActiveIndicator:function(e){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=t(this.indicators[e]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(t){t||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children)),i.call(this,t)},addSlide:function(t){n.call(this,t),this.addIndicator(t)},resetSlides:function(){o.call(this),this.indicatorContainer.empty(),this.indicators=[]},handleClick:function(t){var e=t.target||t.srcElement,i=e.parentNode;if(i===this.indicatorContainer[0])this.preventDefault(t),this.slide(this.getNodeIndex(e));else{if(i.parentNode!==this.indicatorContainer[0])return s.call(this,t);this.preventDefault(t),this.slide(this.getNodeIndex(i))}},handleSlide:function(t){r.call(this,t),this.setActiveIndicator(t)},handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),a.call(this)}}),e},"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],r):r(window.blueimp.helper||window.jQuery,window.blueimp.Gallery),s=function(t,e){t.extend(e.prototype.options,{videoContentClass:"video-content",videoLoadingClass:"video-loading",videoPlayingClass:"video-playing",videoPosterProperty:"poster",videoSourcesProperty:"sources"});var i=e.prototype.handleSlide;return t.extend(e.prototype,{handleSlide:function(t){i.call(this,t),this.playingVideo&&this.playingVideo.pause()},videoFactory:function(e,i,n){var o,s,r,a,l,h=this,c=this.options,u=this.elementPrototype.cloneNode(!1),d=t(u),p=[{type:"error",target:u}],f=n||document.createElement("video"),m=this.getItemProperty(e,c.urlProperty),y=this.getItemProperty(e,c.typeProperty),v=this.getItemProperty(e,c.titleProperty),g=this.getItemProperty(e,c.videoPosterProperty),w=this.getItemProperty(e,c.videoSourcesProperty);if(d.addClass(c.videoContentClass),v&&(u.title=v),f.canPlayType)if(m&&y&&f.canPlayType(y))f.src=m;else if(w)for(;w.length;)if(s=w.shift(),m=this.getItemProperty(s,c.urlProperty),y=this.getItemProperty(s,c.typeProperty),m&&y&&f.canPlayType(y)){f.src=m;break}return g&&(f.poster=g,o=this.imagePrototype.cloneNode(!1),t(o).addClass(c.toggleClass),o.src=g,o.draggable=!1,u.appendChild(o)),(r=document.createElement("a")).setAttribute("target","_blank"),n||r.setAttribute("download",v),r.href=m,f.src&&(f.controls=!0,(n||t(f)).on("error",function(){h.setTimeout(i,p)}).on("pause",function(){f.seeking||(a=!1,d.removeClass(h.options.videoLoadingClass).removeClass(h.options.videoPlayingClass),l&&h.container.addClass(h.options.controlsClass),delete h.playingVideo,h.interval&&h.play())}).on("playing",function(){a=!1,d.removeClass(h.options.videoLoadingClass).addClass(h.options.videoPlayingClass),h.container.hasClass(h.options.controlsClass)?(l=!0,h.container.removeClass(h.options.controlsClass)):l=!1}).on("play",function(){window.clearTimeout(h.timeout),a=!0,d.addClass(h.options.videoLoadingClass),h.playingVideo=f}),t(r).on("click",function(t){h.preventDefault(t),a?f.pause():f.play()}),u.appendChild(n&&n.element||f)),u.appendChild(r),this.setTimeout(i,[{type:"load",target:u}]),u}}),e},"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],s):s(window.blueimp.helper||window.jQuery,window.blueimp.Gallery),o=function(t,e){if(!window.postMessage)return e;t.extend(e.prototype.options,{vimeoVideoIdProperty:"vimeo",vimeoPlayerUrl:"//player.vimeo.com/video/VIDEO_ID?api=1&player_id=PLAYER_ID",vimeoPlayerIdPrefix:"vimeo-player-",vimeoClickToPlay:!0});var i=e.prototype.textFactory||e.prototype.imageFactory,n=function(t,e,i,n){this.url=t,this.videoId=e,this.playerId=i,this.clickToPlay=n,this.element=document.createElement("div"),this.listeners={}},o=0;return t.extend(n.prototype,{canPlayType:function(){return!0},on:function(t,e){return this.listeners[t]=e,this},loadAPI:function(){function e(){!n&&o.playOnReady&&o.play(),n=!0}for(var i,n,o=this,s="//f.vimeocdn.com/js/froogaloop2.min.js",r=document.getElementsByTagName("script"),a=r.length;a;)if(r[a-=1].src===s){i=r[a];break}i||((i=document.createElement("script")).src=s),t(i).on("load",e),r[0].parentNode.insertBefore(i,r[0]),/loaded|complete/.test(i.readyState)&&e()},onReady:function(){var t=this;this.ready=!0,this.player.addEvent("play",function(){t.hasPlayed=!0,t.onPlaying()}),this.player.addEvent("pause",function(){t.onPause()}),this.player.addEvent("finish",function(){t.onPause()}),this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){this.listeners.pause(),delete this.playStatus},insertIframe:function(){var t=document.createElement("iframe");t.src=this.url.replace("VIDEO_ID",this.videoId).replace("PLAYER_ID",this.playerId),t.id=this.playerId,this.element.parentNode.replaceChild(t,this.element),this.element=t},play:function(){var t=this;this.playStatus||(this.listeners.play(),this.playStatus=1),this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.api("play"):(this.playOnReady=!0,window.$f?this.player||(this.insertIframe(),this.player=$f(this.element),this.player.addEvent("ready",function(){t.onReady()})):this.loadAPI())},pause:function(){this.ready?this.player.api("pause"):this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),t.extend(e.prototype,{VimeoPlayer:n,textFactory:function(t,e){var s=this.options,r=this.getItemProperty(t,s.vimeoVideoIdProperty);return r?(void 0===this.getItemProperty(t,s.urlProperty)&&(t[s.urlProperty]="//vimeo.com/"+r),o+=1,this.videoFactory(t,e,new n(s.vimeoPlayerUrl,r,s.vimeoPlayerIdPrefix+o,s.vimeoClickToPlay))):i.call(this,t,e)}}),e},"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],o):o(window.blueimp.helper||window.jQuery,window.blueimp.Gallery),n=function(t,e){if(!window.postMessage)return e;t.extend(e.prototype.options,{youTubeVideoIdProperty:"youtube",youTubePlayerVars:{wmode:"transparent"},youTubeClickToPlay:!0});var i=e.prototype.textFactory||e.prototype.imageFactory,n=function(t,e,i){this.videoId=t,this.playerVars=e,this.clickToPlay=i,this.element=document.createElement("div"),this.listeners={}};return t.extend(n.prototype,{canPlayType:function(){return!0},on:function(t,e){return this.listeners[t]=e,this},loadAPI:function(){var t,e=this,i=window.onYouTubeIframeAPIReady,n="//www.youtube.com/iframe_api",o=document.getElementsByTagName("script"),s=o.length;for(window.onYouTubeIframeAPIReady=function(){i&&i.apply(this),e.playOnReady&&e.play()};s;)if(o[s-=1].src===n)return;(t=document.createElement("script")).src=n,o[0].parentNode.insertBefore(t,o[0])},onReady:function(){this.ready=!0,this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){e.prototype.setTimeout.call(this,this.checkSeek,null,2e3)},checkSeek:function(){this.stateChange!==YT.PlayerState.PAUSED&&this.stateChange!==YT.PlayerState.ENDED||(this.listeners.pause(),delete this.playStatus)},onStateChange:function(t){switch(t.data){case YT.PlayerState.PLAYING:this.hasPlayed=!0,this.onPlaying();break;case YT.PlayerState.PAUSED:case YT.PlayerState.ENDED:this.onPause()}this.stateChange=t.data},onError:function(t){this.listeners.error(t)},play:function(){var t=this;this.playStatus||(this.listeners.play(),this.playStatus=1),this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.playVideo():(this.playOnReady=!0,window.YT&&YT.Player?this.player||(this.player=new YT.Player(this.element,{videoId:this.videoId,playerVars:this.playerVars,events:{onReady:function(){t.onReady()},onStateChange:function(e){t.onStateChange(e)},onError:function(e){t.onError(e)}}})):this.loadAPI())},pause:function(){this.ready?this.player.pauseVideo():this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),t.extend(e.prototype,{YouTubePlayer:n,textFactory:function(t,e){var o=this.options,s=this.getItemProperty(t,o.youTubeVideoIdProperty);return s?(void 0===this.getItemProperty(t,o.urlProperty)&&(t[o.urlProperty]="//www.youtube.com/watch?v="+s),void 0===this.getItemProperty(t,o.videoPosterProperty)&&(t[o.videoPosterProperty]="//img.youtube.com/vi/"+s+"/maxresdefault.jpg"),this.videoFactory(t,e,new n(s,o.youTubePlayerVars,o.youTubeClickToPlay))):i.call(this,t,e)}}),e},"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],n):n(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)},{}],8:[function(t,e,i){"use strict";!function(){function t(t,e){var i;for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function e(t){if(!this||this.find!==e.prototype.find)return new e(t);if(this.length=0,t)if("string"==typeof t&&(t=this.find(t)),t.nodeType||t===t.window)this.length=1,this[0]=t;else{var i=t.length;for(this.length=i;i;)this[i-=1]=t[i]}}e.extend=t,e.contains=function(t,e){do{if((e=e.parentNode)===t)return!0}while(e);return!1},e.parseJSON=function(t){return window.JSON&&JSON.parse(t)},t(e.prototype,{find:function(t){var i=this[0]||document;return"string"==typeof t&&(t=i.querySelectorAll?i.querySelectorAll(t):"#"===t.charAt(0)?i.getElementById(t.slice(1)):i.getElementsByTagName(t)),new e(t)},hasClass:function(t){return!!this[0]&&new RegExp("(^|\\s+)"+t+"(\\s+|$)").test(this[0].className)},addClass:function(t){for(var e,i=this.length;i;){if(!(e=this[i-=1]).className)return e.className=t,this;if(this.hasClass(t))return this;e.className+=" "+t}return this},removeClass:function(t){for(var e,i=new RegExp("(^|\\s+)"+t+"(\\s+|$)"),n=this.length;n;)(e=this[n-=1]).className=e.className.replace(i," ");return this},on:function(t,e){for(var i,n,o=t.split(/\s+/);o.length;)for(t=o.shift(),i=this.length;i;)(n=this[i-=1]).addEventListener?n.addEventListener(t,e,!1):n.attachEvent&&n.attachEvent("on"+t,e);return this},off:function(t,e){for(var i,n,o=t.split(/\s+/);o.length;)for(t=o.shift(),i=this.length;i;)(n=this[i-=1]).removeEventListener?n.removeEventListener(t,e,!1):n.detachEvent&&n.detachEvent("on"+t,e);return this},empty:function(){for(var t,e=this.length;e;)for(t=this[e-=1];t.hasChildNodes();)t.removeChild(t.lastChild);return this},first:function(){return new e(this[0])}}),"function"==typeof define&&define.amd?define(function(){return e}):(window.blueimp=window.blueimp||{},window.blueimp.helper=e)}()},{}],9:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.process()}return n(t,[{key:"process",value:function(){function t(t){t.each(function(){var t=$(this),e=t.data("animation");t.addClass(e).one("webkitAnimationEnd animationend",function(){t.removeClass(e)})})}var e=$(".animate_text"),i=e.find(".item:first").find("[data-animation ^= 'animated']");e.carousel(),t(i),e.on("slide.bs.carousel",function(e){t($(e.relatedTarget).find("[data-animation ^= 'animated']"))})}}]),t}();i.default=o},{}],10:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();o(t("./dependencies/blueimp-helper")),o(t("./dependencies/blueimp-gallery")),o(t("./dependencies/blueimp-gallery-fullscreen"));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.process()}return n(t,[{key:"process",value:function(){var t=this;$(document).ready(function(){$.ajax({url:"https://api.flickr.com/services/rest/",data:{format:"json",user_id:"154596101@N02",method:"flickr.photosets.getList",api_key:"2360ff92cabc49f59a9ceaa136a0fbcb"},dataType:"jsonp",jsonp:"jsoncallback"}).done(function(e){if("fail"===e.stat)console.log("Error occured!"),console.log(e),t.handleError("An Error occurred, Please try refreshing the browser."),$(".loader").hide();else{$("#albumContainer");var i=void 0,n=void 0,o=[],s=!0;$.each(e.photosets.photoset,function(t,e){n="https://c1.staticflickr.com/"+e.farm+"/"+e.server+"/"+e.primary+"_"+e.secret,i='<li><div class="photoAlbum view photo-list-album-view awake" id="'+e.id+'" style="transform: translate(0px, 8px);width: 240px;height: 240px;background-image:url('+n+'_n.jpg)">',i+='<a class="interaction-view avatar photo-list-album album ginormous" href="#" title="'+e.title._content+'" data-rapid_p="65">',i+='<div class="photo-list-album-interaction dark has-actions" data-albumid="'+e.id+'" >',i+='<a class="overlay" href="#" data-rapid_p="87"></a>',i+='<div class="interaction-bar">',i+='<div class="metadata">',i+='<h4 class="albumTitle">'+e.title._content+"</h4>";for(var r=e.description._content.split(","),a=0;a<r.length;a++)if(r[a].includes("year:")){var l=r[a].split(":");i+='<h4 class="albumYear">'+l[1].trim()+"</h4>";for(var h=0;h<o.length;h++){if(l[1].trim().toUpperCase()===o[h].toUpperCase()){s=!1;break}s=!0}s&&o.push(l[1].trim())}else if(r[a].includes("school:")){var c=r[a].split(":");i+='<h4 class="albumSchool">'+c[1].trim()+"</h4>"}else if(r[a].includes("event:")){var u=r[a].split(":");i+='<h4 class="albumEvent">'+u[1].trim()+"</h4>"}else i+='<h4 class="albumTag" style="display:none;">'+r[a].trim()+"</h4>";var d=void 0;d=e.photos>1?"photos":"photo",i+='<span class="album-photo-count secondary">'+e.photos+" "+d+"</span>",i+="</div></div></div></a></div></li>",$("#list").append(i),i=""}),o=t.bubbleSortArray(o);for(var r=0;r<o.length;r++){var a='<option value ="'+o[r]+'">'+o[r]+"</option>";$("#filter-tags").append(a)}$(".photoAlbum").click(function(e){e.preventDefault(),$("#closeButton").show("slow"),$("#albumContainer").hide("slow"),$(".loader").show("fast"),$.ajax({url:"https://api.flickr.com/services/rest/",data:{format:"json",photoset_id:this.id,user_id:"154596101@N02",method:"flickr.photosets.getPhotos",api_key:"2360ff92cabc49f59a9ceaa136a0fbcb"},dataType:"jsonp",jsonp:"jsoncallback"}).done(function(e){if("fail"===e.stat)console.log("Error occured while grabbing photo album!"),console.log(e),t.handleError("An Error occurred, Please try refreshing the browser.");else{var i=[],n=$("#links").empty(),o=void 0;$.each(e.photoset.photo,function(t,e){o="https://farm"+e.farm+".static.flickr.com/"+e.server+"/"+e.id+"_"+e.secret,$("<a/>").append($("<img>").prop("src",o+"_s.jpg")).prop("href",o+"_b.jpg").prop("title",e.title).attr("data-gallery","").appendTo(n),i.push({href:o+"_c.jpg",title:e.title})}),blueimp.Gallery(i,{container:"#blueimp-image-carousel",carousel:!0}),$(".loader").hide("fast"),$("#blueimp-image-carousel").show("slow"),$("#links").show("slow")}}).fail(function(e){console.log("The inner request failed with"),console.log(e),t.handleError("An Error occurred, Please try refreshing the browser.")}),document.getElementById("links").onclick=function(t){var e=(t=t||window.event).target||t.srcElement,i={index:e.src?e.parentNode:e,event:t},n=this.getElementsByTagName("a");blueimp.Gallery(n,i)}}),$.getScript("//cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js").done(function(){var t=new List("albumContainer",{valueNames:["albumTitle","albumYear","albumSchool","albumTag","albumEvent"],page:6,pagination:!0});$("#filter-tags").change(function(){console.log($("#filter-tags").val());var e=$("#filter-tags").val();return t.filter(function(t){return"Select Year"===e||t.values().albumYear.trim()==e}),!1})}),$(".loader").hide()}}).fail(function(e){console.log("the request failed and threw an error"),console.log(e),t.handleError("An Error occurred, Please try refreshing the browser.")}),$("#closeButton").click(function(t){t.preventDefault(),$("#closeButton").hide("slow"),$("#albumContainer").show("slow"),$("#blueimp-image-carousel").hide("slow"),$("#links").hide("slow")})})}},{key:"bubbleSortArray",value:function(t){for(var e=t.length,i=0;i<e;i++)for(var n=0;n<e-i-1;n++)if(t[n]>t[n+1]){var o=t[n];t[n]=t[n+1],t[n+1]=o}return t}},{key:"handleError",value:function(t){$("#albumContainer").hide(),$("#errorMessage").text(t),$("#errorMessage").show()}}]),t}();i.default=s},{"./dependencies/blueimp-gallery":7,"./dependencies/blueimp-gallery-fullscreen":6,"./dependencies/blueimp-helper":8}],11:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}},{}],12:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=l(t("page")),s=l(t("../middlewares")),r=l(t("./ken-burns-effect")),a=l(t("./photo-gallery"));function l(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o.default));return t._bindRoutes(),o.default.start({click:!1}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),n(e,[{key:"_bindRoutes",value:function(){(0,o.default)("/",r.default),(0,o.default)("/gallery/",a.default)}},{key:"refresh",value:function(){(0,o.default)(window.location.pathname)}}]),e}();i.default=h},{"../middlewares":11,"./ken-burns-effect":13,"./photo-gallery":14,page:1}],13:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,e){new s.default,e()};var n,o=t("../controllers/ken-burns-effect"),s=(n=o)&&n.__esModule?n:{default:n}},{"../controllers/ken-burns-effect":9}],14:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,e){new s.default,e()};var n,o=t("../controllers/photo-gallery"),s=(n=o)&&n.__esModule?n:{default:n}},{"../controllers/photo-gallery":10}]},{},[5]);